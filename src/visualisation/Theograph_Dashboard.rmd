---
title: "Primary Care Timeline Tool"
author: "NHS Transformation Unit"
date: "`r format(Sys.time(), '%d %B %Y')`"
output:
  html_document:
    toc: true
    toc_depth: 2
    toc_float: true
    toc_collapsed: true
    css: ../config/nhs_tu_theme.css
runtime: shiny
---

```{css, echo=FALSE}
    body .main-container {
      max-width: 1800px !important;
      width: 1800px !important;
    }
    body {
      max-width: 1800px !important;
    }
```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)

source("../config/r_scripts/packages.R")
source("../visualisation/r_scripts/DUMMY_Visualisation_2.R")

```

```{r logo, echo = FALSE}

htmltools::img(src = knitr::image_uri(paste0(here(), "/images/DIA_logo_large.png")), 
               alt = 'logo', 
               style = 'position:absolute; top:0; right:5%; padding:10px;',
               width = "180px",
               heigth = "180px")

```

<style>
  .container-fluid {
    display: flex;
  }
  .sidebar {
    width: 25%; /* Adjust the width as needed */
    padding-right: 50px;
  }
  .main {
    width: 75%; /* Adjust the width as needed */
  }
</style>

<div class="container-fluid">
  <div class="sidebar">

## User guidance
***

Introductory text to be agreed with client, but will speak to purpose of tool, including its aims and limitations, as well as some guidance on how the tool is designed to be used.


## Patient selection
***

This section will contain a search bar which will allow the user to search for a patient using either ID# or surname.

<strong style="color: blue;">[SEARCH BAR OBJECT ALLOWING USER TO SEARCH FOR PATIENT VIA ID# OR SURNAME]</strong>

</div>

  <div class="main">

## GP Contact, Diagnosis and Prescription Timeline
***

The time series below visualises patient X's GP contact history, displaying the following information:

* Date of contact
* Any diagnoses made on date of contact
* Any prescriptions (or changes to existing prescriptions) made on date of contact
* The results of any relevant biomedical assays completed on date of contact

<strong style="color: blue;">[DROPDOWN MENU ALLOWING USER TO FILTER CONDITION/MEDICATION TIMESERIES TO VISUALISE]</strong>

```{r dummy_timeline, echo=FALSE, fig.width=10, fig.height=10, out.width="100%", fig.align='center'}
combined_plot
```

## Contact Summary
***

Please use the button below to download the patients entire GP event history as a CSV file.


```{r downloadButtonUI}
downloadButton("downloadData", "Download Patient Data as CSV")
```
